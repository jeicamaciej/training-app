{"ast":null,"code":"var _jsxFileName = \"E:\\\\training-app\\\\training-app\\\\src\\\\login.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Route, Link, BrowserRouter as Router, Switch } from \"react-router-dom\";\nimport Register from \"./register\";\nimport { Redirect } from \"react-router-dom\";\nimport { browserHistory } from \"react-router\";\nimport { withRouter } from \"react-router-dom\";\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const data = {\n        usernameOrEmail: this.state.loginValue,\n        password: this.state.passwordValue\n      };\n      axios({\n        method: \"post\",\n        url: \"http://localhost:8080/api/auth/signin\",\n        data: data\n      }).then(response => {\n        localStorage.setItem(\"token\", response.data.accessToken);\n        localStorage.setItem(\"usernameOrEmail\", this.state.loginValue);\n        console.log(localStorage.getItem(\"token\"));\n        console.log(localStorage.getItem(\"usernameOrEmail\"));\n      });\n    };\n\n    this.state = {\n      loginValue: \"\",\n      passwordValue: \"\"\n    };\n    this.handleLoginChange = this.handleLoginChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleLoginChange(event) {\n    this.setState({\n      loginValue: event.target.value\n    });\n  }\n\n  handlePasswordChange(event) {\n    this.setState({\n      passwordValue: event.target.value\n    });\n  }\n\n  redirectToRegister() {\n    this.props.history.push(\"/register\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"username or email\",\n      type: \"text\",\n      value: this.state.loginValue,\n      onChange: this.handleLoginChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"password\",\n      type: \"text\",\n      value: this.state.passwordValue,\n      onChange: this.handlePasswordChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, \"sign in\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.redirectToRegister(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }\n    }, \"register\")));\n  }\n\n} //export default Login;\n\n\nexport default withRouter(Login);","map":{"version":3,"sources":["E:/training-app/training-app/src/login.js"],"names":["React","axios","Route","Link","BrowserRouter","Router","Switch","Register","Redirect","browserHistory","withRouter","Login","Component","constructor","props","handleSubmit","event","preventDefault","data","usernameOrEmail","state","loginValue","password","passwordValue","method","url","then","response","localStorage","setItem","accessToken","console","log","getItem","handleLoginChange","bind","handlePasswordChange","setState","target","value","redirectToRegister","history","push","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Route, Link, BrowserRouter as Router, Switch } from \"react-router-dom\";\r\nimport Register from \"./register\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { browserHistory } from \"react-router\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loginValue: \"\",\r\n      passwordValue: \"\",\r\n    };\r\n    this.handleLoginChange = this.handleLoginChange.bind(this);\r\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleLoginChange(event) {\r\n    this.setState({ loginValue: event.target.value });\r\n  }\r\n\r\n  handlePasswordChange(event) {\r\n    this.setState({ passwordValue: event.target.value });\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const data = {\r\n      usernameOrEmail: this.state.loginValue,\r\n      password: this.state.passwordValue,\r\n    };\r\n    axios({\r\n      method: \"post\",\r\n      url: \"http://localhost:8080/api/auth/signin\",\r\n      data: data,\r\n    }).then((response) => {\r\n      localStorage.setItem(\"token\", response.data.accessToken);\r\n      localStorage.setItem(\"usernameOrEmail\", this.state.loginValue);\r\n      console.log(localStorage.getItem(\"token\"));\r\n      console.log(localStorage.getItem(\"usernameOrEmail\"));\r\n    });\r\n  };\r\n\r\n  redirectToRegister() {\r\n    this.props.history.push(\"/register\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <label>\r\n            <input\r\n              placeholder=\"username or email\"\r\n              type=\"text\"\r\n              value={this.state.loginValue}\r\n              onChange={this.handleLoginChange}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            <input\r\n              placeholder=\"password\"\r\n              type=\"text\"\r\n              value={this.state.passwordValue}\r\n              onChange={this.handlePasswordChange}\r\n            />\r\n          </label>\r\n          <button type=\"submit\" onClick={this.handleSubmit}>\r\n            sign in\r\n          </button>\r\n        </form>\r\n        <div>\r\n          <button onClick={this.redirectToRegister()}>register</button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//export default Login;\r\nexport default withRouter(Login);\r\n"]},"metadata":{},"sourceType":"module"}